<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org" lang="en">
<head>
    <title>Todo App - Thymeleaf</title>
</head>
<style>
    /* Generic css generated by Bard */
    /* Body */
    body {
        font-family: sans-serif;
        margin: 0;
        padding: 0;
        background-color: #fff;
        text-align: center;
    }

    /* Headings */
    h1, h2, h3, h4, h5, h6 {
        font-family: serif;
        font-weight: bold;
    }

    h1 {
        font-size: 2em;
    }

    h2 {
        font-size: 1.5em;
    }

    h3 {
        font-size: 1.2em;
    }

    h4 {
        font-size: 1em;
    }

    h5 {
        font-size: 0.8em;
    }

    h6 {
        font-size: 0.6em;
    }

    /* Links */
    a {
        color: #000;
        text-decoration: none;
    }

    a:hover {
        color: #fff;
        background-color: #000;
    }

    /* Buttons */
    button {
        border: 1px solid #000;
        background-color: #fff;
        color: #000;
        padding: 10px;
        cursor: pointer;
        min-width: 5rem;
    }

    button:hover {
        background-color: #000;
        color: #fff;
    }

    /* Forms */
    input, textarea, select {
        border: 1px solid #000;
        padding: 10px;
        font-family: sans-serif;
    }

    .todo-text {
        min-width: 25rem;
    }

    input[type="submit"], button[type="submit"] {
        background-color: #000;
        color: #fff;
    }

    /* Tables */
    table {
        border-collapse: collapse;
        width: 100%;
    }

    th, td {
        border: 1px solid #000;
        padding: 10px;
    }

    /* Images */
    img {
        max-width: 100%;
        height: auto;
    }

    footer {
        font-size: 0.7rem;
        position: fixed;
        left: 0;
        bottom: 0;
        width: 100%;
        text-align: center;
        padding-bottom: 2px;
    }
</style>
<body>
<h1>Todo App</h1>
<form th:action="@{/todos}" method="post">
    <input type="text" name="title" placeholder="Enter a todo item..." class="todo-text" id="todo-content"
           th:required="true"/>
    <button type="submit" id="add">Add</button>
</form>
<span th:text="${message}" id="msg-box" style="color:red;padding:1px;"></span>
<ol>
    <li th:each="todo : ${todos}">
        <div style="display: flex; flex-direction: row; justify-content: space-evenly; justify-items: center;">
            Title: <span th:text="${todo.title}"> </span>
            | Completed: <span th:text="${todo.completed}"> </span>
            <form th:action="@{'/todos/' + ${todo.id} + '/delete'}" method="get">
                <button type="submit">Delete</button>
            </form>
            <form th:action="@{'/todos/' + ${todo.id} + '/complete'}" method="get">
                <button type="submit">Complete</button>
            </form>
        </div>
    </li>
</ol>

<footer>
    <hr/>
    A basic todo app implemented with thymeleaf and spring boot.
    <br/>
    Author: Roshan Lamichhane
</footer>
</body>
<script>
    // auto-hide msg after 5 seconds
    const msgBox = document.getElementById("msg-box");
    setTimeout(function () {
        msgBox.style.display = "none";
    }, 5000);
</script>
</html>
